os:
  - linux

dist: xenial

language: python
python:
  - "3.9"

before_install:
  - sudo add-apt-repository ppa:ubuntugis/ppa -y
  - sudo apt-get update
  - sudo apt-get install libproj-dev proj-data proj-bin  
  - sudo apt-get install libgeos-dev
  - sudo apt-get install -y gdal-bin=3.2.1
  - sudo apt-get install -y libgdal-dev libgdal1-dev
  - sudo apt-get install -y libv8-3.14-dev libprotobuf-dev protobuf-compiler libudunits2-dev libnetcdf-dev python3-gdal
  - pip install cython  
  - pip install cartopy
  - export CPLUS_INCLUDE_PATH=/usr/include/gdal
  - export C_INCLUDE_PATH=/usr/include/gdal
  - pip install GDAL

script:
  - python -m pytest -v